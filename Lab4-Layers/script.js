let singapore = [1.29, 103.85]; // Singapore's latlng
let map = L.map("singaporeMap").setView(singapore, 13); // set the map's centre

// set up the tile layers
L.tileLayer('https://www.onemap.gov.sg/maps/tiles/Grey/{z}/{x}/{y}.png', {
   detectRetina: true,
   maxZoom: 19,
   minZoom: 10,
   /** DO NOT REMOVE the OneMap attribution below **/
   attribution: '<img src="https://www.onemap.gov.sg/web-assets/images/logo/om_logo.png" style="height:20px;width:20px;"/>&nbsp;<a href="https://www.onemap.gov.sg/" target="_blank" rel="noopener noreferrer">OneMap</a>&nbsp;&copy;&nbsp;contributors&nbsp;&#124;&nbsp;<a href="https://www.sla.gov.sg/" target="_blank" rel="noopener noreferrer">Singapore Land Authority</a>'
}).addTo(map);

let mrtIcon = L.icon({
    iconUrl: 'mrt-logo.png',
    iconSize: [15, 15]
    });

let mrtLatLng = [[1.33315281585758, 103.742286332403],
[1.34903331201636, 103.749566478309],
[1.35861159094192, 103.751790910733],
[1.38536316540225, 103.744370779756],
[1.39753506936297, 103.747405150236],
[1.42508698073648, 103.762137459497],
[1.43252114855026, 103.774074641403],
[1.43605761708128, 103.787938777173],
[1.44058856161847, 103.800990519771],
[1.44905082158502, 103.820046140211],
[1.44307664075699, 103.829702590959],
[1.42944308477331, 103.835005047246],
[1.41738337009565, 103.832979908243],
[1.38175587099132, 103.84494727118],
[1.36993284962264, 103.849558091776],
[1.35131580146658, 103.84914026532],
[1.3404690010277, 103.846799083148],
[1.33262928096888, 103.847502198048],
[1.32044079120154, 103.843825618748],
[1.3123189224097, 103.837984594021],
[1.30242224836722, 103.823868523249],
[1.30026416739006, 103.839085753124],
[1.29891164362677, 103.84629250696],
[1.29298990700923, 103.852542630339],
[1.28393326234538, 103.851463066212],
[1.27631114381584, 103.854604975361],
[1.27102703612006, 103.862447515736],
[1.37304331635804, 103.949284527763],
[1.34551530560119, 103.938436971222],
[1.34319707851829, 103.953377214378],
[1.32718729074675, 103.946348600798],
[1.32040148729112, 103.957183823478],
[1.3210381335934, 103.912947930851],
[1.31978354916088, 103.903225807255],
[1.3172473854035, 103.892260753884],
[1.3164326118157, 103.882906044385],
[1.31148890998818, 103.871386541754],
[1.30737781747063, 103.862767633888],
[1.30046508509717, 103.855706730933],
[1.27656131737246, 103.845725186759],
[1.2802415328084, 103.840052100136],
[1.28619457890544, 103.826998939732],
[1.28963453412887, 103.81674097205],
[1.29455085184931, 103.806077155982],
[1.30250199924325, 103.798228523336],
[1.30627534823257, 103.790363200126],
[1.31140529320963, 103.778637841909],
[1.31511625277378, 103.765191452888],
[1.34235282081401, 103.732596738363],
[1.34425911493819, 103.720949087456],
[1.33860405469845, 103.706064622772],
[1.33758701106708, 103.697321608474],
[1.3277170408447, 103.678374996165],
[1.31947090075208, 103.660530461345],
[1.32102695598684, 103.649078235627],
[1.32998504653102, 103.639616648771],
[1.34088242451105, 103.636991425128],
[1.33538252614956, 103.962374747451],
[1.35747897447692, 103.98788356959],
[1.26538938374901, 103.821530157095],
[1.28422391919085, 103.845143798953],
[1.28745211415803, 103.846119192727],
[1.30769844708108, 103.850093622794],
[1.31314029963164, 103.854754721344],
[1.31993957653291, 103.862052698446],
[1.33137808528793, 103.869363547741],
[1.33919004519388, 103.87081830915],
[1.35063361526525, 103.872771660431],
[1.36017917065237, 103.885064856353],
[1.37129226620797, 103.892380513029],
[1.38287001971672, 103.893122569706],
[1.39169462601522, 103.895484694279],
[1.41492733388605, 103.910166388177],
[1.29686168649656, 103.850667371637],
[1.2936577245386, 103.855081226245],
[1.29399798636232, 103.860350000188],
[1.29976684675139, 103.86363696572],
[1.3028124684707, 103.875337711089],
[1.30620190525331, 103.882528081052],
[1.30854798388121, 103.889064718377],
[1.32615024457361, 103.889298600376],
[1.33514150139202, 103.888389300191],
[1.34250117805245, 103.880177899184],
[1.35153128621585, 103.864812169514],
[1.348707263451, 103.839423132332],
[1.33724561271722, 103.840161782075,],
[1.32238699517166, 103.815385463093],
[1.31743915158967, 103.807379214161],
[1.31224029631595, 103.796399122407],
[1.29975987493555, 103.78745750525],
[1.29353349887123, 103.784572738173],
[1.28195688684898, 103.781988990137],
[1.27621352233766, 103.791350313288],
[1.27236838626952, 103.803416232089],
[1.27070647717762, 103.809761611219],
[1.28187378879209, 103.859079764874],
[1.37956121236613, 103.761188866252],
[1.36981544925552, 103.76443921414],
[1.36234486803558, 103.767418254007],
[1.34090149001429, 103.775746717778],
[1.335893496278, 103.783235863233],
[1.33085764536226, 103.796906838288,],
[1.32639224146351, 103.806548201692],
[1.32006555750626, 103.826024401924],
[1.30385218527656, 103.852769428884],
[1.27944638178916, 103.852840829581],
[1.28206894769394, 103.848648781083],
[1.29248194822996, 103.844331362465],
[1.29891843369422, 103.850353762717],
[1.3051713878069, 103.855295713435],
[1.31367252847691, 103.862977620945],
[1.32130110228321, 103.871622627142],
[1.32687671501334, 103.883247509542],
[1.32997425973974, 103.899226655439],
[1.33496735995428, 103.908459338046],
[1.33474211664091, 103.91797832995],
[1.33660782955099, 103.932234623286],
[1.34551530560119, 103.938436971222],
[1.35619148271544, 103.9546344625],
[1.34173977444995, 103.961472788634]];

let parkLatLng = [[1.294444, 103.846947],
[1.446392, 103.780655],
[1.273806, 103.817497],
[1.282375, 103.864273]]

const parkGroup = L.layerGroup();
parkGroup.addTo(map);
for (let i = 0; i < parkLatLng.length; i ++){
    let marker = L.marker(parkLatLng[i]);
    marker.addTo(parkGroup)
}

const mrtGroup = L.layerGroup();
for (let i = 0; i < mrtLatLng.length; i ++) {
    L.circle(mrtLatLng[i],{
        color:"teal",
        fillColor:"blue",
        fillOpacity:"0.05",
        radius:300
         }).addTo(mrtGroup)
    let mrtMarker = L.marker(mrtLatLng[i], {icon:mrtIcon}).addTo(mrtGroup);
    mrtMarker.addTo(mrtGroup)
}

let shoppingIcon = L.icon({
    iconUrl: 'shopping-mall-logo.png',
    iconSize: [25, 25]
    });

let shoppingLatLng = [[1.27458821795426, 103.84347073661],
[1.30138510214714, 103.837684350436],
[1.3104736675734, 103.86431321816],
[1.32616307866261, 103.843741438467],
[1.2981408343975, 103.855635339249],
[1.30011789343093, 103.856191571652],
[1.30095171530648, 103.855172625542],
[1.29307884763132, 103.851261982149],
[1.30152101873533, 103.836429655016],
[1.30231590504573, 103.862331661034],
[1.31142103107683, 103.856624019991],
[1.2927777312893, 103.854173501417],
[1.29953434891664, 103.85840168774],
[1.30717698071189, 103.833792932243],
[1.29134759697794, 103.849989790085],
[1.29342273662815, 103.832022135776],
[1.33205485190481, 103.848507643079],
[1.30397974144505, 103.832032328465],
[1.3504812534505, 103.848760473211],
[1.29065860407434, 103.844547179775],
[1.30508722710852, 103.830722581168],
[1.30450604646634, 103.833962339817],
[1.27912493489912, 103.854457600432],
[1.28023825446086, 103.853369662547],
[1.28345419690844, 103.860809048956],
[1.27790633974599, 103.852851650485],
[1.29185533273026, 103.85857808906],
[1.30178778502846, 103.838659766022],
[1.29260544462492, 103.859724944443],
[1.30224168528687, 103.835181912297],
[1.30083890839245, 103.839434733899],
[1.30044325279546, 103.839442780042],
[1.30125729409965, 103.841150144584],
[1.30149992510852, 103.837888257002],
[1.30665484543191, 103.829588045188],
[1.28486980177486, 103.842507723868],
[1.30074770963916, 103.845047573431],
[1.29389357863312, 103.853119904656],
[1.30579942993543, 103.833074706219],
[1.31078075190145, 103.855146819671],
[1.30302426686761, 103.853037818418],
[1.29815265394505, 103.844111318107],
[1.32070510956845, 103.844160709661],
[1.29546675589675, 103.858585026016],
[1.30484344196915, 103.823852794772],
[1.30495005564842, 103.832971130126],
[1.27658360696843, 103.845936303594],
[1.30617773048079, 103.850609985486],
[1.30197836876806, 103.839759023144],
[1.30387230879994, 103.835857545469],
[1.28423496027027, 103.858982282698],
[1.29498804392056, 103.856276242094],
[1.35436282723449, 103.83030941613],
[1.31929542501907, 103.844191353077],
[1.30467628730252, 103.830642027577],
[1.30370477426147, 103.833205752808],
[1.32694504456951, 103.846554377679],
[1.30520653617341, 103.905046110228],
[1.32473632784728, 103.929256259998],
[1.32496142991054, 103.932360131921],
[1.35236829566862, 103.943812302253],
[1.34580556425439, 103.982913693484],
[1.33403637902708, 103.962917615531],
[1.3147868971977, 103.893472115119],
[1.32611970329469, 103.929554495615],
[1.37691412455433, 103.955036748549],
[1.3317758150305, 103.946201241591],
[1.34270592355576, 103.953024618234],
[1.37782876616465, 103.942364336974],
[1.30307515150401, 103.873149707591],
[1.30513510179213, 103.904307160288],
[1.30385030375719, 103.902850370889],
[1.30230108405227, 103.876473975883],
[1.36645364010349, 103.964598499523],
[1.35313359828812, 103.940408135311],
[1.30106975506311, 103.905279491524],
[1.31881487007651, 103.892580778514],
[1.31756115921, 103.892836694432],
[1.31899666903663, 103.89489491596,2],
[1.35270160272274, 103.942903567808,],
[1.35252737278519, 103.944698751072],
[1.30457354662016, 103.904203116447],
[1.37244981663527, 103.949715694737],
[1.43712301500434, 103.795314383823],
[1.43992345062736, 103.80201525015],
[1.36938922690344, 103.84847796594],
[1.34241264188642, 103.776539385406],
[1.34180018619223, 103.776259359854],
[1.37193729131781, 103.845949444498],
[1.38433426615655, 103.881623070164],
[1.37992045176243, 103.764357180314],
[1.33875930729064, 103.778600077834],
[1.4360700650803, 103.785981524253],
[1.39205314156706, 103.89507054384],
[1.32611970329469, 103.929554495615],
[1.38400582466296, 103.771029603101],
[1.38540569283271, 103.766228468185],
[1.38739539397015, 103.869135978173],
[1.35954177325561, 103.885167372726],
[1.37843100827586, 103.762842789877],
[1.36267450828024, 103.76417292006],
[1.37571530699875, 103.879472337592],
[1.3792452907016, 103.887832017102],
[1.37249493810003, 103.893775562605],
[1.37178558575829, 103.847837565378],
[1.38033681049385, 103.760167883439],
[1.43306021695327, 103.841649364872],
[1.37736607441394, 103.744393648768],
[1.39207388730918, 103.743099573442],
[1.38497459672379, 103.745011766388],
[1.43354318137534, 103.77988189197],
[1.35076935257845, 103.872296143862],
[1.32359095684442, 103.878811757886],
[1.4350449476836, 103.786826166174],
[1.42969848626288, 103.835776491468],
[1.40278015725693, 103.913215101343],
[1.39423719717117, 103.913047323223],
[1.35976061966283, 103.767585300058],
[1.39219777838449, 103.904471600025],
[1.38533736107771, 103.901841044122],
[1.44182470675733, 103.824845207237],
[1.44819535371132, 103.819502127155],
[1.37789727654673, 103.739015486021],
[1.38004752975397, 103.752483841199],
[1.37050445523679, 103.895291518188],
[1.39147015374628, 103.876125507257],
[1.35348082277147, 103.878828134896],
[1.40648462132006, 103.902105680785],
[1.35001920979845, 103.749244800677],
[1.41795288501536, 103.841268831617],
[1.44562290720221, 103.798140993891],
[1.39705741516141, 103.746662121143],
[1.39832134857945, 103.747344866472],
[1.27414893629254, 103.801399416665],
[1.26396991176004, 103.820243325181],
[1.26429316783973, 103.82230469365],
[1.31200212030821, 103.764986676365],
[1.28728320930592, 103.805283367958],
[1.28861469030586, 103.805009964592],
[1.33191839981568, 103.744920406659],
[1.34633552457315, 103.712430373455],
[1.32561767765205, 103.678409741897],
[1.34874357136408, 103.697732091001],
[1.31427043922294, 103.765147487482],
[1.33489844010888, 103.746734487309],
[1.33332312550425, 103.740187071348],
[1.33305999269581, 103.743503708169],
[1.33945271661445, 103.70668501289],
[1.34169239214292, 103.697174842118],
[1.2876179255874, 103.803391140455],
[1.30540765569962, 103.788446680148],
[1.33484487416514, 103.720462024278],
[1.31489619639366, 103.764423054189],
[1.30697044038323, 103.788420274115],
[1.28645889472825, 103.827015256194],
[1.30369748971099, 103.766131294678]]

const shoppingGroup = L.layerGroup();
for (let i = 0; i < shoppingLatLng.length; i ++) {
    let mallMarker = L.marker(shoppingLatLng[i], {icon:shoppingIcon}).addTo(shoppingGroup);
    mallMarker.addTo(shoppingGroup)
}

// const mrtGroup = L.layerGroup();
// for (let i = 0; i < mrtLatLng.length; i ++) {
//     L.circle(mrtLatLng[i],{
//         color:"teal",
//         fillColor:"blue",
//         fillOpacity:"0.05",
//         radius:300
//          }).addTo(mrtGroup)
//     let mrtMarker = L.marker(mrtLatLng[i], {icon:mrtIcon}).addTo(mrtGroup);
//     mrtMarker.addTo(mrtGroup)
// }

let baseLayers = {
    "Markers":parkGroup
    
}

let overlays = {
    "MRT":mrtGroup,
    "Shopping Malls":shoppingGroup,
    
}

L.control.layers(baseLayers, overlays).addTo(map);

document.querySelector("#showBlueCircles").addEventListener("click", function(){
    map.addLayer(mrtGroup)
})

document.querySelector("#hideBlueCircles").addEventListener("click", function(){
    map.removeLayer(mrtGroup)
})

document.querySelector("#toggle-btn").addEventListener("click", function(){
    if (map.hasLayer(mrtGroup)) {
        map.removeLayer(mrtGroup)
    } else {
        map.addLayer(mrtGroup)
    }
})

